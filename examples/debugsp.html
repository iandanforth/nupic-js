
<!DOCTYPE HTML>
<html>
    <head>
	    <title>Spatial Pooler Test</title>
	    <style>
		    body {
			    margin: 0;
			    padding: 0;
			    background-color: #000000;
		    }
	    </style>
      <script src="../src/simplesets.js"></script>
	    <script src="../src/seedrandom.min.js"></script>
	    <script src="../src/SpatialPooler.js"></script>


    </head>
    <body>
	
	<div id="container"></div>
	
	<script>
      var inputWidth = 8;
      var inputHeight = 8;
      var numInputs = inputWidth * inputHeight;
      var colWidth = 4;
      var colHeight = 2;
      var numColumns = colWidth * colHeight;
	    var sp = new SpatialPooler(inputDimensions = [inputWidth, inputHeight],
                                 columnDimensions = [colWidth, colHeight],
                                 potentialRadius = 16,
                                 potentialPct = 0.5,
                                 globalInhibition = false,
                                 localAreaDensity = -1.0,
                                 numActiveColumnsPerInhArea = 1,
                                 stimulusThreshold = 0,
                                 synPermInactiveDec = 0.01,
                                 synPermActiveInc = 0.1,
                                 synPermConnected = 0.10,
                                 minPctOverlapDutyCycle = 0.001,
                                 minPctActiveDutyCycle = 0.001,
                                 dutyCyclePeriod = 1000,
                                 maxBoost = 10.0,
                                 seed = 1956,
                                 spVerbosity = 0,
                                 addNoise = true,
                                 wrapPotentialPools = true,
                                 initConnectedPct = 0.5);
      
      console.log("Num inputs: ");
      console.log(sp._numInputs);
      console.log("Num columns: ");
      console.log(sp._numColumns);

      //input = [];
      //var x = 3;
      //var y = 3;
      //var z = 3;
      //for (var i = 0; i < x; i++) {
      //    input.push([]);
      //    for (var j = 0; j < y; j++) {
      //        input[i].push([]);
      //        for (var k = 0; k < z; k++) {
      //            var val = Math.random();
      //            input[i][j].push(val);
      //        };
      //    };
      //};
      
      input = [];
      var x = inputWidth;
      var y = inputHeight;
      for (var i = 0; i < x; i++) {
          input.push([]);
          for (var j = 0; j < y; j++) {
              var val = Math.random();
              input[i].push(val);
          };
      };
      
      //input = [];
      //for (var i = 0; i < numInputs; i++) {
      //  input.push(1.0);
      //}
      
      console.log("Input");
      //console.log(input);
      console.log(input.length);
      
      activeArray = [];
      for (var i = 0; i < numColumns; i++) {
        activeArray.push(0);
      }
      
      //for (var i = 0; i < sp._numInputs; i++) {
      //    console.log(sp._permanences[0][i]);
      //}
      
      sp.compute(input, learn = true, activeArray);
      //console.log("Active array after input1:")
      //console.log(activeArray);
	    
	</script>
	
	</body>
</html>
